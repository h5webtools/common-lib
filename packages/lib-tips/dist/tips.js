!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Tips=i()}(this,function(){"use strict";function t(t){return'<div id="bubble"> <div class="mod-spinner"> <div class="spinner-wrap"><span class="'+t.icon+'"></span><p class="text" id="bubble-text">'+t.text+"</p> </div> </div></div>"}var i=function(){var t=document.createElement("div");return function(i){return t.innerHTML=i,t.children[0]}}(),n=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t};return new(function(){function s(){n(this,s),this.tipsHtml=null,this.ptr=null,this.config={msg:"",isLoading:!1,autoHide:!0,hideTime:1200},this.iconConf={loading:"rotate-icon",none:""}}return e(s,[{key:"showTips",value:function(n){var e=this;if(!this.tipsHtml){var s=o({},this.config,n),r=t({text:s.msg,icon:s.isLoading?this.iconConf.loading:""});this.tipsHtml=i(r),document.body.insertBefore(this.tipsHtml,null),s.autoHide&&setTimeout(function(){e.closeTips()},s.hideTime),this.lock=!0}}},{key:"showLoading",value:function(t){this.showTips({msg:t||"努力加载中...",isLoading:!0,autoHide:!1})}},{key:"showError",value:function(t){var i=this;clearInterval(this.ptr),this.ptr=setInterval(function(){i.tipsHtml||(i.showTips({msg:t}),clearInterval(i.ptr),i.ptr=null)},200)}},{key:"closeTips",value:function(){return this.tipsHtml?(this.tipsHtml.parentNode.removeChild(this.tipsHtml),this.tipsHtml=null,this.lock=!1,this):this}}]),s}())});
